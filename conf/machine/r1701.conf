#@TYPE: Machine
#@NAME: Custom r1701 platform
#@DESCRIPTION: Machine configuration for r1701 platform.

# Include the machine configuration for Digi's ConnectCore 6UL.
include conf/machine/include/ccimx6ul.inc

# U-Boot configurations
# Last one is the default (the one the symlinks point at)
UBOOT_CONFIG ??= "r1701"
UBOOT_CONFIG[r1701] = "r1701_defconfig"

KERNEL_DEVICETREE ?= " \
    imx6ul-r1701.dtb \
    imx6ul-r1701-wb.dtb \
"

SERIAL_CONSOLES ?= "115200;ttymxc4"

MACHINE_FEATURES += "second-eth"

# Bluetooth tty
BT_TTY ?= "ttymxc0"

# U-Boot script to be copied to the boot image
BOOT_SCRIPTS = "boot.scr:boot.scr"

# Flash image types
IMAGE_FSTYPES ?= "tar.bz2 ubifs boot.ubifs recovery.ubifs"

MACHINE_EXTRA_RDEPENDS += "kernel-module-serial-modbus kernel-module-mipdisplay"
